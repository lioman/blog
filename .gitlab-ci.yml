# This file is a template, and might need editing before it works on your project.
# Full project: https://gitlab.com/pages/pelican
image: python:3.7

check:
  stage: test
  script:
  - pip install pipenv
  - pipenv check
  only:
  - master
  allow_failure: true

pages:
  script:
  - pip install pipenv
  - pipenv install --ignore-pipfile
  - pipenv run pelican -s publishconf.py
  artifacts:
    paths:
    - public/
  only:
    - master
